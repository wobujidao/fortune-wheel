# üé∞ –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã ‚Äî –¶–ë –ú–û

<p align="center">
  <img src="assets/bot-avatar.png" width="160" alt="–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã" />
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.13+-3776AB?style=for-the-badge&logo=python&logoColor=white" />
  <img src="https://img.shields.io/badge/Telegram-Mini%20App-26A5E4?style=for-the-badge&logo=telegram&logoColor=white" />
  <img src="https://img.shields.io/badge/FastAPI-009688?style=for-the-badge&logo=fastapi&logoColor=white" />
  <img src="https://img.shields.io/badge/SQLAlchemy-2.0-D71F00?style=for-the-badge&logo=sqlalchemy&logoColor=white" />
  <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white" />
  <img src="https://img.shields.io/badge/Nginx-009639?style=for-the-badge&logo=nginx&logoColor=white" />
  <img src="https://img.shields.io/badge/SQLite-003B57?style=for-the-badge&logo=sqlite&logoColor=white" />
  <img src="https://img.shields.io/badge/Canvas%20API-F7DF1E?style=for-the-badge&logo=javascript&logoColor=black" />
  <img src="https://img.shields.io/badge/Ruff-30173D?style=for-the-badge&logo=ruff&logoColor=white" />
  <img src="https://img.shields.io/badge/Pydantic-v2-E92063?style=for-the-badge&logo=pydantic&logoColor=white" />
  <img src="https://img.shields.io/badge/License-MIT-green?style=for-the-badge" />
</p>

Telegram Mini App ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ ¬´–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã¬ª –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –¶–ë –ú–û (–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–≥–æ –ë—é–¥–∂–µ—Ç–Ω–æ–≥–æ –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ú–æ—Å–∫–æ–≤—Å–∫–æ–π –û–±–ª–∞—Å—Ç–∏) –∫ –ø—Ä–∞–∑–¥–Ω–∏–∫—É 23 –§–µ–≤—Ä–∞–ª—è.

- üîó Telegram Mini App: [@fortune_cbmo_bot](https://t.me/fortune_cbmo_bot)
- üåê –î–æ–º–µ–Ω: [fortune.demidov.info](https://fortune.demidov.info)

> **–ü—Ä–æ–µ–∫—Ç –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π** ‚Äî —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –µ–∂–µ–≥–æ–¥–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–∏–∑–∞–º–∏, —Å–±—Ä–æ—Å–æ–º –∏ –ø–µ—Ä–µ–Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π —á–µ—Ä–µ–∑ –≤–µ–±-–∞–¥–º–∏–Ω–∫—É.

---

## üìñ –û–ø–∏—Å–∞–Ω–∏–µ

Telegram Mini App, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –∫—Ä—É—Ç—è—Ç –∫–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã –∏ –ø–æ–ª—É—á–∞—é—Ç –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥–∞—Ä–æ–∫ ‚Äî –æ–¥–∏–Ω –∏–∑ –±–æ–Ω—É—Å–æ–≤ –∫ —Ä–∞–±–æ—á–µ–º—É –≥—Ä–∞—Ñ–∏–∫—É. –†–µ–∑—É–ª—å—Ç–∞—Ç –º–æ–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –∏ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–¥–∞—Ä–∫–æ–º –≤ –ª—é–±–æ–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –¥–æ 23 —Ñ–µ–≤—Ä–∞–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞. Telegram-–±–æ—Ç —Å–ª—É–∂–∏—Ç —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Mini App.

---

## üéÅ –ü—Ä–∏–∑—ã (—Å–µ–∫—Ç–æ—Ä—ã –∫–æ–ª–µ—Å–∞)

–ü—Ä–∏–∑—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –≤–µ–±-–∞–¥–º–∏–Ω–∫—É. –ù–∞–±–æ—Ä –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:

| ‚Ññ | –ü—Ä–∏–∑ | –ò–∫–æ–Ω–∫–∞ | –¶–≤–µ—Ç |
|:-:|------|:------:|------|
| 1 | 3-—á–∞—Å–æ–≤–æ–π –ø–µ—Ä–µ—Ä—ã–≤ –Ω–∞ –æ–±–µ–¥ | üçΩÔ∏è | `#4A90D9` |
| 2 | –î–µ–Ω—å –æ—Ç–¥—ã—Ö–∞ –≤ –≤–∞—à –î–† (–¥–æ/–ø–æ—Å–ª–µ, –µ—Å–ª–∏ –î–† –≤—ã–ø–∞–¥–∞–µ—Ç –Ω–∞ –≤—ã—Ö–æ–¥–Ω–æ–π) | üéÇ | `#E8734A` |
| 3 | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ 2 —á–∞—Å–∞ —Ä–∞–Ω—å—à–µ | ‚è∞ | `#F5C242` |
| 4 | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π | üå¥ | `#D95B5B` |
| 5 | –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã –Ω–∞ 2 —á–∞—Å–∞ –ø–æ–∑–∂–µ | üò¥ | `#5BBD8C` |
| 6 | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –≤ –æ–±–µ–¥ (–≤ 14:00) | üè† | `#9B6EC5` |

> –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏: –≤—Å–µ —Å–µ–∫—Ç–æ—Ä—ã —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã (`secrets.choice` ‚Äî –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä).

---

## üìê –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ

### –û—Å–Ω–æ–≤–Ω–∞—è –º–µ—Ö–∞–Ω–∏–∫–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –±–æ—Ç–∞ –≤ Telegram ‚Üí –Ω–∞–∂–∏–º–∞–µ—Ç –∫–Ω–æ–ø–∫—É ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è Mini App —Å –∫–æ–ª–µ—Å–æ–º.
2. –ö–æ–ª–µ—Å–æ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ –¥–∞–Ω–Ω—ã–º –∏–∑ API (`GET /api/prizes`).
3. –ù–∞–∂–∏–º–∞–µ—Ç ¬´–ò—Å–ø—ã—Ç–∞–π —É–¥–∞—á—É!¬ª ‚Üí –∫–æ–ª–µ—Å–æ –∫—Ä—É—Ç–∏—Ç—Å—è —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π ‚Üí –≤—ã–ø–∞–¥–∞–µ—Ç –ø—Ä–∏–∑.
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–∏–∑–∞.
5. –ü–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è –º–æ–¥–∞–ª–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∫–∞–∫–æ–π –ø—Ä–∏–∑ –≤—ã–ø–∞–ª.

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫

- **–û–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞** –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞.
- –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∫—Ä—É—Ç–∏–ª ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ ¬´–í—ã —É–∂–µ –∏—Å–ø—ã—Ç–∞–ª–∏ —É–¥–∞—á—É¬ª –∏ –µ–≥–æ –ø—Ä–∏–∑.
- –ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ **—Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ —Å–±—Ä–æ—Å–∞** —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É.
- **–†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** ‚Äî –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –±–µ–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏).

### –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è –ø—Ä–∏–∑–∞

- –ü–æ–¥–∞—Ä–∫–æ–º –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –ª—é–±–æ–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å –¥–æ 23 —Ñ–µ–≤—Ä–∞–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞.
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (—Å–∫—Ä–∏–Ω—à–æ—Ç –∏–∑ Mini App) —Å–≤–æ–µ–º—É —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –∏ —Å–æ–≥–ª–∞—Å–æ–≤—ã–≤–∞–µ—Ç –¥–∞—Ç—É/–≤—Ä–µ–º—è.

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î:

- Telegram User ID
- Username (`@username`)
- –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è –∏–∑ Telegram-–ø—Ä–æ—Ñ–∏–ª—è
- –í—ã–ø–∞–≤—à–∏–π –ø—Ä–∏–∑ (–Ω–æ–º–µ—Ä –∏ —Ç–µ–∫—Å—Ç)
- –î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- **–ù–µ—Ç –±–µ–ª–æ–≥–æ —Å–ø–∏—Å–∫–∞** —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ ‚Äî –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ —Å—Å—ã–ª–∫—É –Ω–∞ –±–æ—Ç–∞.
- –°—Å—ã–ª–∫—É –ø–æ–ª—É—á–∞—Ç —Ç–æ–ª—å–∫–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —á–µ—Ä–µ–∑ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –∫–∞–Ω–∞–ª—ã.
- –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Telegram WebApp `initData`.

---

## üîß –í–µ–±-–∞–¥–º–∏–Ω–∫–∞

–û—Ç–¥–µ–ª—å–Ω–∞—è –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ (`/admin`), –¥–æ—Å—Ç—É–ø –ø–æ Telegram-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. Mobile-first: –Ω–∞ —ç–∫—Ä–∞–Ω–∞—Ö <600px —Ç–∞–±–ª–∏—Ü—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ –∫–∞—Ä—Ç–æ—á–∫–∏, —Ç–∞–±—ã —Å–æ —Å–∫—Ä–æ–ª–ª–æ–º, toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∫–∞—Å—Ç–æ–º–Ω—ã–µ –¥–∏–∞–ª–æ–≥–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

### –†–æ–ª–∏

| –†–æ–ª—å | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ |
|------|-------------|
| **–ê–¥–º–∏–Ω** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø: —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–∞–º–∏, —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, —Å–±—Ä–æ—Å |
| **–ü—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫** | –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–∑–∞–º–∏

- ‚ûï –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–∑ (—Ç–µ–∫—Å—Ç, –∏–∫–æ–Ω–∫–∞-—ç–º–æ–¥–∑–∏, —Ü–≤–µ—Ç, –ø–æ–∑–∏—Ü–∏—è)
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–∑ (—Ç–µ–∫—Å—Ç, –∏–∫–æ–Ω–∫–∞, —Ü–≤–µ—Ç, –ø–æ–∑–∏—Ü–∏—è, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–∑
- ‚ÜïÔ∏è Drag & drop —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (–ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ç 2 –¥–æ 12 —Å–µ–∫—Ç–æ—Ä–æ–≤

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

- üìä –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (–∫—Ç–æ, —á—Ç–æ, –∫–æ–≥–¥–∞, Telegram-–¥–∞–Ω–Ω—ã–µ)
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –≥—Ä–∞—Ñ–∏–∫–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø—Ä–∏–∑–æ–≤ –∏ –≤—Ä–∞—â–µ–Ω–∏–π –ø–æ –¥–Ω—è–º
- üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
- üîÑ –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å –±–∞–∑—ã (–≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∫—Ä—É—Ç–∏—Ç—å –∑–∞–Ω–æ–≤–æ)
- üì• –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º

- üë§ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ (–ø–æ Telegram ID)
- üëÅÔ∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ / —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–æ–≤ (–ø–æ Telegram ID)
- üìã –°–ø–∏—Å–æ–∫ —Ç–µ–∫—É—â–∏—Ö –∞–¥–º–∏–Ω–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–æ–≤ —Å –∏–º–µ–Ω–∞–º–∏ (–ø–æ–¥—Ç—è–≥–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ Telegram Bot API)

### –ê—É–¥–∏—Ç-–ª–æ–≥

- üìã –í–∫–ª–∞–¥–∫–∞ ¬´–õ–æ–≥¬ª ‚Äî –∏—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è: –¥–∞—Ç–∞, –∞–¥–º–∏–Ω, –¥–µ–π—Å—Ç–≤–∏–µ, –¥–µ—Ç–∞–ª–∏
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã–µ –¥–µ–π—Å—Ç–≤–∏—è: —É–¥–∞–ª–µ–Ω–∏–µ/—Å–±—Ä–æ—Å –≤—Ä–∞—â–µ–Ω–∏–π, CRUD –ø—Ä–∏–∑–æ–≤, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏

- ‚öôÔ∏è –í–∫–ª–∞–¥–∫–∞ ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª –≤ –∞–¥–º–∏–Ω–∫–µ
- –°—Ç–∏–ª—å —É–∫–∞–∑–∞—Ç–µ–ª—è –∫–æ–ª–µ—Å–∞: ¬´–°–≤–µ—Ä—Ö—É¬ª (—Å—Ç—Ä–µ–ª–∫–∞ —Å–≤–µ—Ä—Ö—É, –æ—Å—Ç—Ä–∏—ë–º –∫ —Ü–µ–Ω—Ç—Ä—É) –∏–ª–∏ ¬´–ò–∑ —Ü–µ–Ω—Ç—Ä–∞¬ª (—Å—Ç—Ä–µ–ª–∫–∞ –∏–∑ —Ö–∞–±–∞ –≤–≤–µ—Ä—Ö –∫ –ø—Ä–∏–∑—É)
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `settings`, key-value), –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- üõ†Ô∏è Toggle-–ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤ —à–∞–ø–∫–µ –∞–¥–º–∏–Ω–∫–∏
- –ö–æ–ª–µ—Å–æ –∫—Ä—É—Ç–∏—Ç—Å—è –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ –±–µ–∑ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã **–Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ –ë–î
- –í–∏–∑—É–∞–ª—å–Ω—ã–π –±–∞–Ω–Ω–µ—Ä –Ω–∞ –∫–æ–ª–µ—Å–µ –ø—Ä–∏ –≤–∫–ª—é—á—ë–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
- –§–ª–∞–≥ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ `localStorage` (–æ–¥–∏–Ω origin)

---

## üé® –î–∏–∑–∞–π–Ω –∫–æ–ª–µ—Å–∞

- –¢—ë–º–Ω—ã–π —Ñ–æ–Ω —Å –º–µ—Ä—Ü–∞—é—â–∏–º–∏ –∑–≤—ë–∑–¥–∞–º–∏
- –ö–æ–ª–µ—Å–æ —Å —Ü–≤–µ—Ç–Ω—ã–º–∏ —Å–µ–∫—Ç–æ—Ä–∞–º–∏, –Ω–æ–º–µ—Ä–∞ –≤ –±–µ–ª—ã—Ö –∫—Ä—É–∂–∫–∞—Ö
- –ö—Ä–∞—Å–Ω–∞—è –æ–∫–∞–Ω—Ç–æ–≤–∫–∞ —Å –º–∏–≥–∞—é—â–∏–º–∏ –ª–∞–º–ø–æ—á–∫–∞–º–∏ (–±–µ–≥—É—â–∏–π –æ–≥–æ–Ω—å)
- –ó–æ–ª–æ—Ç–æ–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö–∞–±
- –ó–æ–ª–æ—Ç–∞—è —Å—Ç—Ä–µ–ª–∫–∞-—É–∫–∞–∑–∞—Ç–µ–ª—å: –¥–≤–∞ —Å—Ç–∏–ª—è –Ω–∞ –≤—ã–±–æ—Ä (—Å–≤–µ—Ä—Ö—É ‚Äî –æ—Å—Ç—Ä–∏—ë–º –∫ —Ü–µ–Ω—Ç—Ä—É; –∏–∑ —Ü–µ–Ω—Ç—Ä–∞ ‚Äî –≤–≤–µ—Ä—Ö –∫ –ø—Ä–∏–∑—É). –ü–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∞–¥–º–∏–Ω–∫–µ
- –õ–µ–≥–µ–Ω–¥–∞ —Å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–æ–π –Ω–æ–º–µ—Ä–æ–≤ –ø–æ–¥ –∫–æ–ª–µ—Å–æ–º
- –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ
- **Mobile-first** ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–∞—è –≤—ë—Ä—Å—Ç–∫–∞: –∫–æ–ª–µ—Å–æ, –ª–µ–≥–µ–Ω–¥–∞ –∏ –∫–Ω–æ–ø–∫–∞ –ø–æ–º–µ—â–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–º —ç–∫—Ä–∞–Ω–µ –±–µ–∑ —Å–∫—Ä–æ–ª–ª–∞. –†–∞–∑–º–µ—Ä –∫–æ–ª–µ—Å–∞ –∞–¥–∞–ø—Ç–∏—Ä—É–µ—Ç—Å—è –ø–æ–¥ –≤—ã—Å–æ—Ç—É viewport (`dvh`), –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—à—Ç–∞–±–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ö–æ–ª–µ—Å–æ —Å—Ç—Ä–æ–∏—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–µ–∫—Ç–æ—Ä–æ–≤, —Ü–≤–µ—Ç–∞ –∏ —Ç–µ–∫—Å—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ API

### UX-—É–ª—É—á—à–µ–Ω–∏—è

- **Loading-—Å–ø–∏–Ω–Ω–µ—Ä** ‚Äî –∑–æ–ª–æ—Ç–æ–π –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏–Ω–Ω–µ—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ, fade-out –ø–æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
- **Toast-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** ‚Äî –≤—Å–ø–ª—ã–≤–∞—é—â–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö (–ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–ª–æ–∫, –∞–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ 4 —Å–µ–∫)
- **HapticFeedback** ‚Äî —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ—Ç–¥–∞—á–∞ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ (medium), —Å–º–µ–Ω–µ —Å–µ–∫—Ç–æ—Ä–∞ (light), –≤—ã–∏–≥—Ä—ã—à–µ (success)
- **–ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã** ‚Äî Web Audio API (–±–µ–∑ —Ñ–∞–π–ª–æ–≤): —Ç–∏–∫–∞–Ω—å–µ –ø—Ä–∏ —Å–µ–∫—Ç–æ—Ä–∞—Ö, –≤–æ—Å—Ö–æ–¥—è—â–∏–µ —Ñ–∞–Ω—Ñ–∞—Ä—ã –ø—Ä–∏ –≤—ã–∏–≥—Ä—ã—à–µ. –ö–Ω–æ–ø–∫–∞ üîä/üîá (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage)
- **BackButton** ‚Äî Telegram BackButton –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª–∫—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

---

## üåê –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –°–µ—Ç–µ–≤–∞—è —Å—Ö–µ–º–∞

```mermaid
graph LR
    A[üåç –ò–Ω—Ç–µ—Ä–Ω–µ—Ç] -->|–ø–æ—Ä—Ç—ã 80 / 443| B[üîÄ MikroTik<br/>95.165.142.229]
    B -->|NAT| C[üîí Nginx Proxy Manager<br/>192.168.5.4]
    C -->|fortune.demidov.info<br/>reverse proxy| D[üê≥ cbmo-fortune<br/>192.168.5.11:8000]
    E[üì± Telegram API] <-->|webhook / polling| D

    subgraph Proxmox
        C
        D[üê≥ Ubuntu 24.04 LXC<br/>192.168.5.11]
    end
```

### –°–µ—Ä–≤–µ—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| –î–æ–º–µ–Ω | `fortune.demidov.info` |
| –í–Ω–µ—à–Ω–∏–π IP | `95.165.142.229` |
| –†–æ—É—Ç–µ—Ä | MikroTik (NAT: –ø–æ—Ä—Ç—ã 80, 443) |
| Reverse Proxy | Nginx Proxy Manager (`192.168.5.4`) |
| –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è | Ubuntu 24.04 LXC (`192.168.5.11`) |
| SSL | Let's Encrypt (—á–µ—Ä–µ–∑ Nginx Proxy Manager) |
| Docker | 28.2.2 + Compose 2.37.1 |
| –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –û–° | `wobujidao` |

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx Proxy Manager

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|
| Domain | `fortune.demidov.info` |
| Scheme | `http` |
| Forward IP | `192.168.5.11` |
| Forward Port | `8000` |
| SSL | Let's Encrypt |
| Websockets | –≤–∫–ª—é—á–µ–Ω–æ |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|-----------|-----------|
| Frontend | HTML5 + CSS3 + JavaScript (Canvas API) |
| Backend | Python 3.13+ |
| Telegram Bot | aiogram 3.x |
| API | FastAPI + Pydantic v2 |
| –ë–î | SQLite + aiosqlite + SQLAlchemy 2.0 (async) |
| Web-—Å–µ—Ä–≤–µ—Ä | Nginx (reverse proxy + SSL + —Å—Ç–∞—Ç–∏–∫–∞) |
| –î–µ–ø–ª–æ–π | Docker + Docker Compose |
| –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | Telegram WebApp initData (HMAC-SHA256) |
| –†–∞–Ω–¥–æ–º | `secrets.choice` (OS CSPRNG) |
| –õ–∏–Ω—Ç–µ—Ä | Ruff |
| –¢–∏–ø–∏–∑–∞—Ü–∏—è | –ü–æ–ª–Ω–∞—è –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è —Ç–∏–ø–æ–≤ |

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
fortune-wheel/
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .env                        # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–Ω–µ –≤ git)
‚îú‚îÄ‚îÄ .env.example                # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ README.md
‚îÇ
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ bot-avatar.svg          # –ê–≤–∞—Ç–∞—Ä–∫–∞ –±–æ—Ç–∞ (–∏—Å—Ö–æ–¥–Ω–∏–∫)
‚îÇ   ‚îî‚îÄ‚îÄ bot-avatar.png          # –ê–≤–∞—Ç–∞—Ä–∫–∞ –±–æ—Ç–∞ (–¥–ª—è BotFather)
‚îÇ
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ index.html              # Mini App ‚Äî –∫–æ–ª–µ—Å–æ —Ñ–æ—Ä—Ç—É–Ω—ã
‚îÇ   ‚îî‚îÄ‚îÄ admin.html              # –í–µ–±-–∞–¥–º–∏–Ω–∫–∞
‚îÇ
‚îú‚îÄ‚îÄ bot/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞: –±–æ—Ç + FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ config.py               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏–∑ .env
‚îÇ   ‚îú‚îÄ‚îÄ db/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py         # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ SQLite, –¥–≤–∏–∂–æ–∫
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ models.py           # SQLAlchemy-–º–æ–¥–µ–ª–∏ (prizes, spins, admins, settings)
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ start.py            # /start ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –∫–Ω–æ–ø–∫–∞ WebApp
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ admin.py            # –ê–¥–º–∏–Ω-–∫–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ api/
‚îÇ       ‚îú‚îÄ‚îÄ __init__.py
‚îÇ       ‚îú‚îÄ‚îÄ routes.py           # FastAPI-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ auth.py             # –í–∞–ª–∏–¥–∞—Ü–∏—è Telegram initData
‚îÇ
‚îî‚îÄ‚îÄ nginx/
    ‚îú‚îÄ‚îÄ Dockerfile
    ‚îî‚îÄ‚îÄ nginx.conf              # –ö–æ–Ω—Ñ–∏–≥ Nginx
```

### Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

| –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ—Ä—Ç |
|-----------|----------|------|
| `bot` | Python: aiogram 3 + FastAPI | 8000 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) |
| `nginx` | Reverse proxy + —Å—Ç–∞—Ç–∏–∫–∞ | 8000 ‚Üí 80 (SSL –Ω–∞ Nginx Proxy Manager) |

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **SQLite WAL mode** ‚Äî `PRAGMA journal_mode=WAL` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ, –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ —á—Ç–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏
- **busy_timeout 5—Å** ‚Äî –ø—Ä–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –ë–î –∑–∞–ø—Ä–æ—Å –æ–∂–∏–¥–∞–µ—Ç –¥–æ 30 —Å–µ–∫—É–Ω–¥ –≤–º–µ—Å—Ç–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π –æ—à–∏–±–∫–∏
- **Rate limiting –ø–æ —Ä–µ–∞–ª—å–Ω–æ–º—É IP** ‚Äî nginx –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `X-Real-IP` –æ—Ç Nginx Proxy Manager, –∞ –Ω–µ IP –ø—Ä–æ–∫—Å–∏
- –†–∞—Å—Å—á–∏—Ç–∞–Ω–æ –Ω–∞ **300+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

### –°—Ö–µ–º–∞ –ë–î (SQLite)

```mermaid
erDiagram
    prizes {
        INTEGER id PK
        TEXT text
        TEXT icon
        TEXT color
        INTEGER position
        BOOLEAN is_active
        DATETIME created_at
        DATETIME updated_at
    }

    spins {
        INTEGER id PK
        INTEGER tg_user_id UK
        TEXT tg_username
        TEXT tg_first_name
        TEXT tg_last_name
        INTEGER prize_id FK
        TEXT prize_text
        DATETIME created_at
    }

    admins {
        INTEGER id PK
        INTEGER tg_user_id UK
        TEXT tg_username
        TEXT tg_first_name
        TEXT role
        INTEGER added_by
        DATETIME created_at
    }

    audit_log {
        INTEGER id PK
        INTEGER admin_id
        TEXT admin_name
        TEXT action
        TEXT details
        DATETIME created_at
    }

    settings {
        TEXT key PK
        TEXT value
    }

    prizes ||--o{ spins : "–≤—ã–ø–∞–ª –ø—Ä–∏–∑"
```

### API-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (FastAPI)

#### –ü—É–±–ª–∏—á–Ω—ã–µ (Mini App)

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|:-----:|-----|----------|
| `GET` | `/api/prizes` | –°–ø–∏—Å–æ–∫ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–∑–æ–≤ –¥–ª—è –∫–æ–ª–µ—Å–∞ |
| `POST` | `/api/spin` | –ö—Ä—É—Ç–∏—Ç—å –∫–æ–ª–µ—Å–æ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–∏–∑ |
| `GET` | `/api/check/{tg_user_id}` | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫—Ä—É—Ç–∏–ª –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å |
| `GET` | `/api/settings` | –ü—É–±–ª–∏—á–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è |

#### –ê–¥–º–∏–Ω—Å–∫–∏–µ (—Ç—Ä–µ–±—É—é—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|:-----:|-----|----------|
| `GET` | `/api/admin/results` | –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Ä–∞—â–µ–Ω–∏–π |
| `DELETE` | `/api/admin/results/{id}` | –£–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å—å |
| `POST` | `/api/admin/reset` | –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |
| `GET` | `/api/admin/export` | –≠–∫—Å–ø–æ—Ä—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ CSV |
| `GET` | `/api/admin/prizes` | –í—Å–µ –ø—Ä–∏–∑—ã (–≤–∫–ª—é—á–∞—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ) |
| `POST` | `/api/admin/prizes` | –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–∑ |
| `PUT` | `/api/admin/prizes/{id}` | –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–∏–∑ |
| `DELETE` | `/api/admin/prizes/{id}` | –£–¥–∞–ª–∏—Ç—å –ø—Ä–∏–∑ |
| `PUT` | `/api/admin/prizes/reorder` | –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–µ–∫—Ç–æ—Ä–æ–≤ |
| `GET` | `/api/admin/users` | –°–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–æ–≤ |
| `POST` | `/api/admin/users` | –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∞ / –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–∞ |
| `DELETE` | `/api/admin/users/{id}` | –£–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∞ / –ø—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫–∞ |
| `GET` | `/api/admin/audit` | –ê—É–¥–∏—Ç-–ª–æ–≥ –¥–µ–π—Å—Ç–≤–∏–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ |
| `PUT` | `/api/admin/settings` | –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É (key + value) |

> –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Telegram WebApp `initData` (HMAC-SHA256).

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –î–æ—Å—Ç—É–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|--------|----------|
| `/start` | –í—Å–µ | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + –∫–Ω–æ–ø–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è Mini App |
| `/admin` | –ê–¥–º–∏–Ω | –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–µ–±-–∞–¥–º–∏–Ω–∫—É |
| `/results` | –ê–¥–º–∏–Ω, –ü—Ä–æ—Å–º–æ—Ç—Ä—â–∏–∫ | –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |

---

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–§–∞–π–ª `.env` (–Ω–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ git). –®–∞–±–ª–æ–Ω ‚Äî `.env.example`.

```env
# Telegram
BOT_TOKEN=your_bot_token_here
WEBAPP_URL=https://fortune.demidov.info

# –ù–∞—á–∞–ª—å–Ω—ã–µ –∞–¥–º–∏–Ω—ã (Telegram ID —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é)
ADMIN_IDS=123456789,987654321

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_PATH=./data/fortune.db

# –°–µ—Ä–≤–µ—Ä
API_HOST=0.0.0.0
API_PORT=8000
```

---

## üöÄ –î–µ–ø–ª–æ–π

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker + Docker Compose
- –î–æ–º–µ–Ω —Å SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º (–¥–ª—è Telegram Mini App –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω HTTPS)
- Telegram Bot Token (—á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather))

### –ó–∞–ø—É—Å–∫

```bash
git clone https://github.com/wobujidao/fortune-wheel.git
cd fortune-wheel
cp .env.example .env
mcedit .env                   # –≤–ø–∏—Å–∞—Ç—å —Ç–æ–∫–µ–Ω –±–æ—Ç–∞, ID –∞–¥–º–∏–Ω–æ–≤

docker compose up -d --build
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
cd fortune-wheel
git pull
docker compose up -d --build
```

---

## üìù –¢–µ–∫—Å—Ç —Ä–∞—Å—Å—ã–ª–∫–∏ (–æ—Ç –∫–∞–¥—Ä–æ–≤–æ–π —Å–ª—É–∂–±—ã)

> –£–≤–∞–∂–∞–µ–º—ã–µ –º—É–∂—á–∏–Ω—ã, –≤ –ø—Ä–µ–¥–¥–≤–µ—Ä–∏–∏ 23 –§–µ–≤—Ä–∞–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∏–ª–∏ –¥–ª—è –≤–∞—Å –ø—Ä–∞–∑–¥–Ω–∏—á–Ω–æ–µ ¬´–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã¬ª üîÆ
>
> –ö—Ä—É—Ç–∏—Ç–µ –∫–æ–ª–µ—Å–æ –∏ –∑–∞–±–∏—Ä–∞–π—Ç–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–¥–∞—Ä–∫–∏ –≤ —á–µ—Å—Ç—å –î–Ω—è –∑–∞—â–∏—Ç–Ω–∏–∫–∞ –û—Ç–µ—á–µ—Å—Ç–≤–∞ üéÅ
>
> **–ß—Ç–æ –º–æ–∂–Ω–æ –≤—ã–∏–≥—Ä–∞—Ç—å?**
> - ‚ñ´Ô∏è –¢—Ä—ë—Ö—á–∞—Å–æ–≤–æ–π –æ–±–µ–¥–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ä—ã–≤
> - ‚ñ´Ô∏è –î–µ–Ω—å –æ—Ç–¥—ã—Ö–∞ –≤ –≤–∞—à –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è (–¥–æ/–ø–æ—Å–ª–µ –Ω–µ–≥–æ, –µ—Å–ª–∏ –î–† –≤—ã–ø–∞–¥–∞–µ—Ç –Ω–∞ –≤—ã—Ö–æ–¥–Ω–æ–π)
> - ‚ñ´Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ –¥–≤–∞ —á–∞—Å–∞ —Ä–∞–Ω—å—à–µ
> - ‚ñ´Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –≤—ã—Ö–æ–¥–Ω–æ–π
> - ‚ñ´Ô∏è –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –Ω–∞—á–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–∞ –¥–≤–∞ —á–∞—Å–∞ –ø–æ–∑–∂–µ
> - ‚ñ´Ô∏è –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã –≤ –æ–±–µ–¥ (–≤ 14:00)
>
> **–ö–∞–∫ –ø—Ä–∏–Ω—è—Ç—å —É—á–∞—Å—Ç–∏–µ?** –û—á–µ–Ω—å –ø—Ä–æ—Å—Ç–æ:
> - ‚úîÔ∏è –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –≤ —á–∞—Ç-–±–æ—Ç –¶–ë –ú–û ¬´–ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω—ã¬ª: https://t.me/fortune_cbmo_bot
> - ‚úîÔ∏è –î–æ–≤–µ—Ä—å—Ç–µ—Å—å —Å—É–¥—å–±–µ
> - ‚úîÔ∏è –ö—Ä—É—Ç–∏—Ç–µ –∫–æ–ª–µ—Å–æ (–∫–∞–∂–¥—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ —Å–º–æ–∂–µ—Ç –≤—Å–µ–≥–æ –æ–¥–∏–Ω —Ä–∞–∑ –∏—Å–ø—ã—Ç–∞—Ç—å —É–¥–∞—á—É)
>
> **–ß—Ç–æ –¥–∞–ª—å—à–µ?**
> –í—ã –º–æ–∂–µ—Ç–µ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø–æ–¥–∞—Ä–∫–æ–º –≤ –ª—é–±–æ–π –¥–µ–Ω—å –¥–æ 23 —Ñ–µ–≤—Ä–∞–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞.
> –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞—Ä–∞–Ω–µ–µ —Å–æ–≥–ª–∞—Å—É–π—Ç–µ –¥–∞—Ç—É/–≤—Ä–µ–º—è —Å–æ —Å–≤–æ–∏–º —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º üòâ
>
> –ü–æ–≤–µ–∑—ë—Ç –∫–∞–∂–¥–æ–º—É ü§ù –ú—ã —Ç–æ—á–Ω–æ –∑–Ω–∞–µ–º, —á—Ç–æ –≤–∞–º —É–ª—ã–±–Ω—ë—Ç—Å—è —É–¥–∞—á–∞!
>
> –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º –≤—Å–µ—Ö —Å –Ω–∞—Å—Ç—É–ø–∞—é—â–∏–º –ø—Ä–∞–∑–¥–Ω–∏–∫–æ–º!
> *–ö–æ–º–∞–Ω–¥–∞ –∫–∞–¥—Ä–æ–≤–æ–π —Å–ª—É–∂–±—ã –¶–ë* üíõ

---

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏

- –ö–æ–ª–µ—Å–æ –ø—Ä–∏—É—Ä–æ—á–µ–Ω–æ –∫ 23 –§–µ–≤—Ä–∞–ª—è ‚Äî **—Ç–æ–ª—å–∫–æ –¥–ª—è –º—É–∂—á–∏–Ω**
- –û–¥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å = –æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞ (–¥–æ —Å–±—Ä–æ—Å–∞)
- –ü—Ä–∏–∑ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ 23 —Ñ–µ–≤—Ä–∞–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –≥–æ–¥–∞; —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ —Å —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –ù–∞–∑–≤–∞–Ω–∏–µ: ¬´–ö–æ–ª–µ—Å–æ **–§**–æ—Ä—Ç—É–Ω—ã¬ª ‚Äî –§–æ—Ä—Ç—É–Ω—ã —Å –±–æ–ª—å—à–æ–π –±—É–∫–≤—ã
- –ü—Ä–æ–µ–∫—Ç —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ –µ–∂–µ–≥–æ–¥–Ω–æ–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ‚Äî –ø—Ä–∏–∑—ã, —Ü–≤–µ—Ç–∞ –∏ —Ç–µ–∫—Å—Ç—ã –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
